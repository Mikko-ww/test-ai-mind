copilot:
  bot_assignee: "copilot-swe-agent[bot]"
  bot_login_allowlist:
    - "copilot-swe-agent"
    - "copilot-swe-agent[bot]"
  base_branch: "main"

paths:
  requirement_dir: "docs/requirements"
  spec_dir: "docs/specs"
  plan_yaml_dir: "plans"
  plan_md_dir: "plans"

labels:
  parent:
    requested: "agent:requested"
    requirement_in_progress: "agent:requirement-in-progress"
    requirement_approved: "agent:requirement-approved"
    spec_in_progress: "agent:spec-in-progress"
    spec_approved: "agent:spec-approved"
    plan_in_progress: "agent:plan-in-progress"
    plan_approved: "agent:plan-approved"
    executing: "agent:executing"
    done: "agent:done"
    blocked: "agent:blocked"
    paused: "agent:paused"
  task:
    task: "agent:task"
    pending: "agent:pending"
    in_progress: "agent:in-progress"
    in_review: "agent:in-review"
    done: "agent:done"
    blocked: "agent:blocked"
    cancelled: "agent:cancelled"
  level:
    l1: "agent:l1"
    l2: "agent:l2"
    l3: "agent:l3"
  pr:
    requirement: "agent:requirement-pr"
    spec: "agent:spec-pr"
    plan: "agent:plan-pr"
    task: "agent:task-pr"
    status: "agent:status-pr"
  special:
    probe: "agent:probe"

merge_policy:
  l1:
    allowlist_globs:
      - "docs/**"
      - "*.md"
      - "tests/**"
      - "**/*.test.js"
      - "**/*.test.ts"
      - "**/*.spec.js"
      - "**/*.spec.ts"
      - "plans/**"
  sensitive_globs:
    - ".github/workflows/**"
    - ".github/actions/**"
    - "**/*.yml"
    - "**/*.yaml"
    - ".github/**"
    - "package.json"
    - "package-lock.json"
    - "yarn.lock"
    - "pnpm-lock.yaml"
    - "Dockerfile"
    - "docker-compose.yml"
    - ".env*"
    - "**/*secret*"
    - "**/*credential*"
    - "**/*token*"
  max_changed_files_l1: 300

ci:
  mode: "dispatch"
  workflow: "agent-ci.yml"
  required_check_name: "agent/ci"
  commands:
    lint: "npm run lint"
    test: "npm test"

timeouts:
  requirement_pr_minutes: 10
  spec_pr_minutes: 20
  plan_pr_minutes: 20
  task_pr_minutes: 45
  ci_minutes: 30

notifications:
  github:
    enabled: true
  webhook:
    enabled: false
    secret_name: "AGENT_WEBHOOK_SECRET"
    url_secret_name: "AGENT_WEBHOOK_URL"

commands:
  approve_task: "/approve-task"
  pause: "/pause"
  resume: "/resume"
  retry: "/retry"
  abort: "/abort"

retry:
  max_retries: 2
  delay_minutes: 5

reconciliation:
  schedule: "0 */6 * * *"
  auto_fix_enabled: true

state:
  marker: "<!-- agent-state:json -->"
  max_version_retries: 3
  concurrency_group: "agent-{repo}-issue-{parent_issue}"
