# 执行计划模板

> **Parent Issue**: #[ISSUE_NUMBER]
> **创建时间**: [TIMESTAMP]
> **状态**: [pending/in-progress/done]

## 元信息

- **Parent Issue**: #[ISSUE_NUMBER]
- **Spec文档**: [链接到需求规格说明书]
- **总任务数**: [N]
- **已完成**: [M]
- **当前状态**: [pending/executing/blocked/done]
- **最后更新**: [TIMESTAMP]

## 任务列表

本计划包含 [N] 个任务，按顺序执行。每个任务完成后才会开始下一个任务。

### 任务等级说明

- **L1 (自动合并)**: 仅修改文档、测试或其他安全路径，CI通过后自动合并
- **L2 (命令批准)**: CI通过后需要协作者使用 `/approve-task` 命令批准合并
- **L3 (人工审查)**: 需要完整的PR Review流程，可能涉及敏感文件或复杂变更

### 任务详情

| ID | 标题 | 等级 | 状态 | Issue | PR | 验收标准 |
|----|------|------|------|-------|----|----|
| task-1 | [任务标题] | L1/L2/L3 | pending | - | - | [验收标准] |
| task-2 | [任务标题] | L1/L2/L3 | pending | - | - | [验收标准] |
| task-3 | [任务标题] | L1/L2/L3 | pending | - | - | [验收标准] |

---

## 任务1: [任务标题]

**ID**: `task-1`  
**等级**: L1/L2/L3  
**状态**: pending  
**预估工作量**: Small/Medium/Large

### 描述

[详细描述任务要做什么]

### 验收标准

- [ ] [验收标准1]
- [ ] [验收标准2]
- [ ] [验收标准3]

### 依赖

- 依赖任务: [无 或 task-X]
- 前置条件: [列出前置条件]

### 实现要点

- [要点1]
- [要点2]
- [要点3]

### 测试要求

- [测试要求1]
- [测试要求2]

### 关联资源

- Issue: [待创建]
- PR: [待创建]

---

## 任务2: [任务标题]

[同上格式]

---

## 风险与注意事项

### 整体风险

- [风险1]
- [风险2]

### 关键路径

[标识出关键路径上的任务]

### 阻塞点

[可能的阻塞点和应对方案]

## 执行策略

### 串行执行

本计划采用严格串行执行策略：
- 同一时间只有一个任务处于 `in-progress` 状态
- 任务必须按照ID顺序执行
- 前一个任务完成并合并后，才会开始下一个任务

### 失败处理

如果任务失败：
1. 任务进入 `blocked` 状态
2. 系统等待人工介入（使用 `/retry` 命令重试或 `/abort` 终止）
3. 修复后可以继续执行

### 暂停/恢复

- 使用 `/pause` 命令暂停任务派发
- 使用 `/resume` 命令恢复任务派发
- 暂停期间不会创建新的任务PR

## 进度追踪

### 状态定义

- **pending**: 任务等待开始
- **in-progress**: 任务正在执行（Copilot已被分配）
- **in-review**: 任务PR已创建，等待审查/合并
- **blocked**: 任务被阻塞，需要人工介入
- **done**: 任务已完成并合并
- **cancelled**: 任务被取消

### 更新机制

本文档由系统自动维护：
- 任务状态变更时自动更新
- Issue/PR链接自动填充
- 完成时间自动记录

---

**注意**: 本文档由 `plans/[issue-id].yaml` 自动生成，请勿手工编辑。所有修改应在YAML源文件中进行。
